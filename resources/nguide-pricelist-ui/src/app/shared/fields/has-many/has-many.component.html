<div class="card mt-3">
  <h5 class="card-header mb-0">
    {{ to.label }}
    <button type="button" class="btn btn-success btn-sm float-end" (click)="openModalWithComponent()">
      <i class="bi bi-plus-circle"></i>
      Add
    </button>
  </h5>
  <div class="card-body p-0">
    <table class="table mb-0">
      <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col" *ngFor="let column of table.columns">{{column.name}}</th>
        <th scope="col" class="text-end">Actions</th>
      </tr>
      </thead>
      <tbody cdkDropList (cdkDropListDropped)="drop($event)">
      <tr *ngFor="let row of table.rows; let i = index" cdkDrag cdkDragLockAxis="y">
        <td style="width: 2%">
          <div class="pointer-grab">
            <i class="bi bi-list"></i>
          </div>
        </td>
        <td *ngFor="let column of table.columns">
          <ng-container *ngIf="column?.translatable; then thenBlock else elseBlock"></ng-container>
          <ng-template #thenBlock>
            <div class="text-truncate pr-2"
                 [title]="table.getTranslatedValue(getValue(row, column.path))">{{table.getTranslatedValue(getValue(row, column.path))}}</div>
          </ng-template>
          <ng-template #elseBlock>
            <div class="text-truncate pr-2" [title]="getValue(row, column.path)">{{getValue(row, column.path)}}</div>
          </ng-template>
        </td>
        <td style="width: 10%">
          <button class="btn btn-danger btn-sm float-end" type="button" (click)="remove(row.id)">
            <i class="bi bi-trash"></i>
            Remove
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
